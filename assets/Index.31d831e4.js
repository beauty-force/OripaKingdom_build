import{L as k,H as C,E as L,G as _,r as a,o as c,c as u,b as l,w as h,F as m,d as t,I as g,J as b,K as p,t as A,h as I,f as D,n as U}from"./app.e9c6fad6.js";import{A as V}from"./Admin.9c6e8df4.js";import{V as S,r as M,a as j}from"./ArrowLongUpIcon.a42cd073.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.b95883a9.js";const H={components:{Link:k,Head:C,AdminLayout:V,draggable:S,ArrowLongUpIcon:M,ArrowLongDownIcon:j},props:{errors:Object,auth:Object,categories:Object},methods:{log(){},submit(){this.new_form.post(route("admin.category.store"),{onSuccess:()=>this.new_form.reset(),preserveScroll:!0})},destroy(r){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&L.Inertia.delete(route("admin.category.destroy",r),{preserveScroll:!0})},levelUp(r){let e;for(e=1;e<this.categories.data.length&&this.categories.data[e].id!=r;e++);e<this.categories.data.length&&this.arrayMove(e,e-1)},arrayMove(r,e){this.categories.data.splice(e,0,this.categories.data.splice(r,1)[0])},levelDown(r){let e;for(e=0;e<this.categories.data.length-1&&this.categories.data[e].id!=r;e++);e<this.categories.data.length-1&&this.arrayMove(e,e+1)},submit_order(){this.order_form.categories=this.categories,console.log(this.categories),this.order_form.post(route("admin.category.sorting.store"),{preserveScroll:!0,onFinish:()=>{}})}},data(){return{open:!0,dragging:!1}},setup(r){const e=_({title:""}),s=_({categories:[]});return{new_form:e,order_form:s}},mounted(){}},N={class:"pt-6 md:px-2 px-4"},B=t("h1",{class:"mb-2 text-lg font-bold"},"\u30AB\u30C6\u30B4\u30EA\u30FC",-1),O=t("hr",{class:"mb-8"},null,-1),q={class:""},E={class:"m-auto min-w-full text-sm font-medium"},z={class:"border-t"},G={class:"border-b border-r border-l"},J=t("td",{class:"bg-neutral-300 px-3 py-2 whitespace-nowrap border-r w-32"},"\u30AB\u30C6\u30B4\u30EA\u30FC",-1),K={class:"font-light p-1 whitespace-nowrap"},T={key:0,class:"text-red-600 mt-1 text-center"},P=t("div",{class:"text-center py-2"},[t("button",{type:"submit",class:"w-32 bg-neutral-500 hover:bg-neutral-700 text-white text-sm font-normal py-2 px-5 rounded"}," \u767B\u9332 ")],-1),Q=t("hr",{class:"my-4"},null,-1),R={class:"text-center pb-2"},W=t("div",{class:"border-b border-r border-l bg-neutral-300 p-2"}," \u30AB\u30C6\u30B4\u30EA\u30FC\u7DE8\u96C6 ",-1),X={class:"flex mb-1"},Y={class:"flex-1 whitespace-nowrap h-full"},Z=["onUpdate:modelValue"],$={class:"align-middle h-full flex items-center gap-1"},ee=["onClick"],te=["onClick"],oe=["onClick"],re={class:"p-1 flex justify-center"},se=["disabled"],ne=t("div",{class:"inline-block"},"\u4FDD\u5B58\u3059\u308B",-1),ae=[ne];function le(r,e,s,i,ie,n){const f=a("Head"),x=a("ArrowLongUpIcon"),v=a("ArrowLongDownIcon"),w=a("draggable"),y=a("AdminLayout");return c(),u(m,null,[l(f,{title:"\u30AB\u30C6\u30B4\u30EA\u30FC"}),l(y,null,{default:h(()=>[t("div",N,[B,O,t("div",q,[t("form",{onSubmit:e[1]||(e[1]=g(o=>n.submit(),["prevent"]))},[t("table",E,[t("tbody",z,[t("tr",G,[J,t("td",K,[b(t("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>i.new_form.title=o),type:"text",class:"bg-neutral-50 border border-neutral-300 text-neutral-900 text-sm rounded-lg block px-2 py-1.5 w-full focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50",placeholder:"",required:""},null,512),[[p,i.new_form.title]]),s.errors.title?(c(),u("div",T,A(s.errors.title),1)):I("",!0)])])])]),P],32)]),Q,t("div",R,[W,t("div",X,[l(w,{class:"w-full list-group",list:s.categories.data,onChange:n.log},{default:h(()=>[(c(!0),u(m,null,D(s.categories.data,o=>(c(),u("div",{class:"list-group-item m-1 rounded-md text-left cursor-pointer border h-12 border-neutral-500 flex items-center hover:bg-neutral-100 focus:bg-neutral-100 gap-2",key:o.id},[t("div",Y,[b(t("input",{"onUpdate:modelValue":d=>o.title=d,type:"text",class:"bg-neutral-50 text-neutral-900 text-sm rounded-l-md border-neutral-300 block px-2 h-full w-full focus:border-blue-400 focus:ring focus:ring-blue-200 focus:ring-opacity-50",placeholder:"",required:""},null,8,Z),[[p,o.title]])]),t("div",$,[t("button",{onClick:g(d=>n.levelUp(o.id),["prevent"]),class:"bg-neutral-700 rounded p-1 hover:bg-neutral-600"},[l(x,{class:"w-5 h-5 text-white block"})],8,ee),t("button",{onClick:g(d=>n.levelDown(o.id),["prevent"]),class:"bg-neutral-700 rounded p-1 hover:bg-neutral-600"},[l(v,{class:"w-5 h-5 text-white block"})],8,te)]),t("button",{onClick:d=>n.destroy(o.id),class:"bg-red-500 hover:bg-red-700 text-white text-sm font-normal py-1 px-2 mr-2 rounded"},"\u524A\u9664",8,oe)]))),128))]),_:1},8,["list","onChange"])]),t("div",re,[t("button",{onClick:e[2]||(e[2]=g(o=>n.submit_order(),["prevent"])),class:U([{"opacity-25":i.order_form.processing},"w-32 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-normal py-2 px-3 inline-block rounded"]),disabled:i.order_form.processing},ae,10,se)])])])]),_:1})],64)}const he=F(H,[["render",le]]);export{he as default};
