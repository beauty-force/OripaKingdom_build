import{L as m,u as x,E as b,r as d,o,c,d as e,t as n,n as h,b as _,w as v,e as w,h as i,W as p}from"./app.a877095f.js";import{G as y}from"./GachaButtons.05c536ae.js";import{_ as k}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as C}from"./PlayIcon.9b7b56d0.js";const G={components:{Link:m,PlayIcon:C,GachaButtons:y},props:{gacha:Object,url_edit:String},data(){return{category_share:x().props.value.category_share,url_card:"",str_gacha10:"",point_10gacha:0,countdown:!0}},methods:{get_progress_value(){return Math.round(this.gacha.count*100/this.gacha.count_card)},format_number(a){return String(a).replace(/(.)(?=(\d{3})+$)/g,"$1,")},getImageClass(a){return"url('"+a+"')"},clickCard(){this.gacha.count_rest>0&&!this.url_edit&&(window.location.href=this.url_card)},destroyGacha(a){confirm("\u524A\u9664\u3057\u3066\u3082\u3044\u3044\u3067\u3059\u304B\uFF1F")&&b.Inertia.delete(route("admin.gacha.destroy",{id:a}),{preserveScroll:!0})},transform(a){return Object.entries(a).forEach(([s,t])=>{const l=t<10&&s!="days"?`0${t}`:t;t<2&&s.replace(/s$/,""),a[s]=`${l}`}),a}},mounted(){this.gacha.count_rest<10?(this.str_gacha10="\u5168\u3066",this.point_10gacha=this.gacha.count_rest*this.gacha.point):(this.str_gacha10="10\u9023",this.point_10gacha=10*this.gacha.point),this.url_edit||(this.url_card=route("user.gacha",this.gacha.id)+this.category_share.cat_route_appendix)}},j=["src"],z={key:0},B={class:"absolute z-[7] top-0 right-0 items-center rounded-bl-lg font-semibold text-sm text-white uppercase overflow-hidden"},S={key:1,class:"absolute bottom-0 w-full h-full bg-opacity-80 z-[7] bg-neutral-900 flex items-center justify-center"},L=e("div",{class:"text-white text-[50px] text-center font-bold"},"SOLD OUT",-1),N=[L],O={class:"w-full flex flex-col flex-1"},V={class:"px-3 text-neutral-800 flex-1"},E={class:"flex justify-between mb-1 items-end px-1"},I=e("span",{class:"text-sm"},"\u6B8B ",-1),P={class:"text-xl font-semibold"},T={class:"text-sm"},D=e("span",{class:"inline-block pr-1 align-text-top"},[e("img",{class:"w-5 h-5",src:"/images/icon_coin.png"})],-1),M={class:"font-semibold text-xl"},U=e("span",{class:"text-sm"},"PT",-1),W={class:"mt-1 mb-2"},q={class:"w-full h-5 overflow-hidden flex justify-end border border-white bg-gradient-to-r from-[#f73a1d] via-[#ffec3d] to-[#00da3a] relative rounded-full"},A={key:0,class:"h-24 -mt-1.5"};function F(a,s,t,l,H,r){const u=d("Link"),g=d("GachaButtons");return o(),c("div",{class:h(["mb-0 relative rounded-lg shadow-[0_5px_10px_0px_rgba(0,0,0,0.3)] w-full bg-cover overflow-hidden border-2 bg-[#f5e48f] flex flex-col",{"border-[#6e6e28]":t.gacha.count_rest==0||t.url_edit,"border-[#ffbb00]":!t.gacha.count_rest==0&&!t.url_edit,"cursor-pointer hover:shadow-[0_5px_10px_5px_rgba(0,0,0,0.3)]":!t.url_edit}])},[e("div",{onClick:s[0]||(s[0]=f=>r.clickCard()),class:"mx-3 mt-3 mb-1 overflow-hidden flex items-center"},[e("img",{src:t.gacha.thumbnail,class:"rounded-md object-cover"},null,8,j)]),t.url_edit?(o(),c("div",z,[e("div",{class:h(["-rotate-45 absolute z-[7] top-0 left-0 items-center w-[130px] -ml-[46px] -mt-[8px] pt-6 pb-2 font-semibold text-sm text-white text-center tracking-widest",{"bg-green-500":t.gacha.status,"bg-neutral-500":!t.gacha.status}])},n(t.gacha.status==1?"\u516C\u958B":"\u975E\u516C\u958B"),3),e("div",B,[_(u,{href:t.url_edit,class:"bg-green-500 hover:bg-green-600 px-6 py-2 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"},{default:v(()=>[w(" \u7DE8\u96C6\u3059\u308B ")]),_:1},8,["href"]),e("button",{onClick:s[1]||(s[1]=f=>r.destroyGacha(t.gacha.id)),class:"z-20 px-6 py-2 bg-red-500 text-neutral-50 hover:bg-red-600"}," \u524A\u9664 ")])])):i("",!0),t.gacha.count_rest==0&&!t.url_edit?(o(),c("div",S,N)):i("",!0),e("div",O,[e("div",V,[e("div",E,[e("div",null,[I,e("span",P,n(r.format_number(t.gacha.count_rest)),1),e("span",T,"/"+n(r.format_number(t.gacha.count_card)),1)]),e("div",null,[D,e("span",M,n(r.format_number(t.gacha.point)),1),U])]),e("div",W,[e("div",q,[e("div",{class:"h-full text-right bg-neutral-700",style:p({width:r.get_progress_value()+"%"})},null,4)])])]),t.url_edit?i("",!0):(o(),c("div",A,[_(g,{gacha:t.gacha},null,8,["gacha"])]))])],2)}const X=k(G,[["render",F]]);export{X as G};
