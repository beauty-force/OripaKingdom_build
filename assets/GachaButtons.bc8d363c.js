import{L as b,u as _,G as x,r as h,o as i,c as r,d as e,n as l,t as f,h as p,b as c,w as d,F as v}from"./app.e9c6fad6.js";import{_ as y}from"./_plugin-vue_export-helper.cdc0426e.js";import{f as w,o as k,N as C,V as M}from"./toastify.b95883a9.js";const D={components:{Link:b,TransitionRoot:w,TransitionChild:k,Dialog:C,DialogOverlay:M},props:{gacha:Object},data(){return{category_share:_().props.value.category_share,processing:!1,isDialogMessage:!1,dialogMessage:"",onConfirm:null,str_gacha10:"",str_gacha100:""}},methods:{format_number(a){return String(a).replace(/(.)(?=(\d{3})+$)/g,"$1,")},clickgacha(a){this.isDialogMessage=!0,this.dialogMessage=`${this.format_number(this.gacha.point*Math.min(this.gacha.count_rest,a))}\u30DD\u30A4\u30F3\u30C8\u6D88\u8CBB\u3057\u307E\u3059\u3002`,this.onConfirm=()=>{this.isDialogMessage=!1,this.processing=!0,!this.url_edit&&x({id:this.gacha.id,number:a}).post(route("user.gacha.start_post"),{onFinish:()=>{this.processing=!1}})}}},mounted(){this.gacha.count_rest<=10?(this.str_gacha10="\u5168\u3066",this.str_gacha100=""):(this.str_gacha10="10\u9023",this.str_gacha100=this.gacha.count_rest<=100?"\u5168\u3066":"100\u9023")}},T={class:"w-full mx-auto flex flex-col justify-center items-center h-full px-2 gap-1.5",style:{"max-width":"430px"}},N={class:"w-full mx-auto flex justify-center items-center gap-1.5",style:{"max-width":"430px"}},V=["disabled"],j=e("div",{class:"m-1.5"},[e("div",null,[e("span",{class:"font-bold text-base font-[mplus2]"},"1\u56DE"),e("span",{class:"font-bold text-base font-[mplus2]"},"\u30AC\u30C1\u30E3")])],-1),B=[j],F=["disabled"],L={class:"m-1.5"},z={class:"font-bold text-base font-[mplus2]"},G=["disabled"],R={class:"m-1.5"},H={class:"font-bold text-base font-[mplus2]"},O={class:"flex flex-col text-neutral-700 rounded-md relative z-20 top-20 w-fit min-w-48 bg-neutral-50 border-l border-neutral-200 m-auto p-2 gap-4"},S=e("div",{class:"pt-3 pb-1 px-1 text-center font-bold"}," \u6D88\u8CBB\u30DD\u30A4\u30F3\u30C8\u78BA\u8A8D ",-1),E=["innerHTML"],P={class:"flex justify-center gap-4 p-2 text-sm"};function q(a,s,u,A,t,n){const g=h("TransitionChild"),m=h("TransitionRoot");return i(),r(v,null,[e("div",T,[e("div",N,[e("button",{onClick:s[0]||(s[0]=o=>n.clickgacha(1)),class:l([{"opacity-50":t.processing},"cursor-pointer rounded-md bg-neutral-800 hover:bg-neutral-700 text-white text-sm text-center flex-1 border border-[#ffbb00]"]),disabled:t.processing},B,10,V),u.gacha.count_rest>1?(i(),r("button",{key:0,onClick:s[1]||(s[1]=o=>n.clickgacha(10)),class:l([{"opacity-50":t.processing},"cursor-pointer rounded-md hover:bg-[#ffbb00] bg-yellow-500 text-white text-sm text-center flex-1 border border-[#ffbb00]"]),disabled:t.processing},[e("div",L,[e("div",null,[e("span",z,f(t.str_gacha10)+"\u30AC\u30C1\u30E3",1)])])],10,F)):p("",!0)]),u.gacha.count_rest>10?(i(),r("button",{key:0,onClick:s[2]||(s[2]=o=>n.clickgacha(100)),class:l([{"opacity-50":t.processing},"cursor-pointer w-full rounded-md bg-red-600 hover:bg-red-500 text-white text-sm text-center border border-[#ffbb00]"]),disabled:t.processing},[e("div",R,[e("div",null,[e("span",H,f(t.str_gacha100)+"\u30AC\u30C1\u30E3",1)])])],10,G)):p("",!0)]),c(m,{show:t.isDialogMessage,class:"h-full fixed inset-0 z-40"},{default:d(()=>[c(g,{enter:"transition ease-in-out duration-200 transform","enter-from":"-translate-y-10","enter-to":"translate-y-0",leave:"transition ease-in-out duration-200 transform","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:d(()=>[e("div",O,[S,e("div",{class:"px-4 text-sm text-center",innerHTML:t.dialogMessage},null,8,E),e("div",P,[e("button",{onClick:s[3]||(s[3]=(...o)=>t.onConfirm&&t.onConfirm(...o)),class:"rounded-md w-28 py-1 border-sky-500 border text-white bg-sky-500 hover:bg-sky-400"}," \u78BA\u5B9A "),e("button",{onClick:s[4]||(s[4]=o=>t.isDialogMessage=!1),class:"rounded-md w-28 py-1 border-rose-500 border text-white bg-rose-500 hover:bg-rose-400"}," \u30AD\u30E3\u30F3\u30BB\u30EB ")])])]),_:1}),c(g,{enter:"transition-opacity ease-linear duration-200","enter-from":"opacity-0","enter-to":"opacity-100",leave:"transition-opacity ease-linear duration-200","leave-from":"opacity-100","leave-to":"opacity-0",as:"template"},{default:d(()=>[e("div",{class:"fixed inset-0 bg-neutral-600 h-full bg-opacity-50",onClick:s[5]||(s[5]=o=>t.isDialogMessage=!1)})]),_:1})]),_:1},8,["show"])],64)}const Q=y(D,[["render",q]]);export{Q as G};
