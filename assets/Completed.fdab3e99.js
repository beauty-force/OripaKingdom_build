import{H as C,L,G as j,r as d,o as i,c as a,b as u,w as m,F as _,d as t,f,h,t as s,n as b,g as N,e as P}from"./app.e9c6fad6.js";import{A}from"./Admin.9c6e8df4.js";import{P as B}from"./Pagination.8f4795aa.js";import{_ as F}from"./_plugin-vue_export-helper.cdc0426e.js";import{r as H}from"./ChevronRightIcon.d954b372.js";import"./toastify.b95883a9.js";const O={components:{Head:C,AdminLayout:A,Link:L,ChevronRightIcon:H,Pagination:B},props:{errors:Object,gacha:Object,category_share:Object,products:Object,page:Number,total:Number},data(){return{main_tab:[{title:"\u672A\u767A\u9001",route_url:route("admin.delivery"),is_active:!1},{title:"\u767A\u9001\u6E08\u307F",route_url:route("admin.delivery.completed"),is_active:!0}],page_step:0,is_busy:!1,profile:{},product:{},user:{}}},setup(l){let r={},o;for(o=0;o<l.products.data.length;o++)r["id"+l.products.data[o].id]=!1;const c=j({id:0}),e={page:l.page,total:l.total};return{form:c,search_cond:e}},methods:{showProductDetail(l){this.is_busy=!0;const r={id:l.id};axios.post(route("admin.delivery.product_data"),r).then(o=>{(o.status==201||o.status==200)&&o.data.status&&(this.profile=o.data.profile,this.user=o.data.user,this.product=l,this.page_step=1),this.is_busy=!1}).catch(o=>{this.is_busy=!0})},backToList(){this.page_step=0},submit(l){this.form.id=l,this.form.post(route("admin.delivery.un_delivery"),{onFinish:()=>{this.page_step=0},preserveScroll:!0})}}},V={key:0,class:"pt-6 md:px-2 px-4 mb-6"},D=t("h1",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u5546\u54C1",-1),I=t("hr",{class:"mb-3"},null,-1),R={class:"w-full text-neutral-400 mb-3"},T={class:"mb-6"},S={class:"py-1 border-neutral-200 border-b"},z=["onClick"],E=["src"],G={class:"cursor-pointer flex items-center justify-between flex-1 text-xs py-1 px-2"},q={class:"text-left"},J={class:"text-red-500"},K={class:"text-neutral-600"},M={key:1,class:"pt-6 md:px-2 px-4 mb-6",style:{"min-height":"400px"}},Q=t("h2",{class:"mb-2 text-lg font-bold"},"\u914D\u9001\u6E08\u307F\u5546\u54C1\u8A73\u7D30",-1),U=t("hr",{class:"mb-3"},null,-1),W={class:"mb-6"},X={class:"flex border-neutral-200 items-center w-full"},Y=["src"],Z={class:"cursor-pointer h-12 flex items-center justify-between flex-1 inline-block text-xs py-1 px-2"},$={class:"w-full"},tt={class:"text-red-500"},et=t("div",{class:"mb-1 text-base font-semibold"},"\u914D\u9001\u5148\u60C5\u5831",-1),st=t("hr",{class:"mb-3"},null,-1),ot={class:"w-full mb-6"},nt={class:"w-full text-sm"},lt=t("td",{class:"p-1 w-2/5 font-bold"},"\u30A2\u30C9\u30EC\u30B9",-1),rt={class:"p-1 w-3/5"},it=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D",-1),ct={class:"p-1 w-3/5"},at=t("td",{class:"p-1 w-2/5 font-bold"},"\u540D\u524D(\u30AB\u30CA)",-1),dt={class:"p-1 w-3/5"},ut=t("td",{class:"p-1 w-2/5 font-bold"},"\u90F5\u4FBF\u756A\u53F7",-1),_t={class:"p-1 w-3/5"},pt=t("td",{class:"p-1 w-2/5 font-bold"},"\u90FD\u9053\u5E9C\u770C",-1),ht={class:"p-1 w-3/5"},bt=t("td",{class:"p-1 w-2/5 font-bold"},"\u4F4F\u6240",-1),mt={class:"p-1 w-3/5"},ft=t("td",{class:"p-1 w-2/5 font-bold"},"\u96FB\u8A71\u756A\u53F7",-1),vt={class:"p-1 w-3/5"},xt={class:"mb-6 w-full text-center"},gt=["disabled"],wt=["disabled"];function yt(l,r,o,c,e,p){const v=d("Head"),x=d("Link"),g=d("Pagination"),w=d("ChevronRightIcon"),y=d("AdminLayout");return i(),a(_,null,[u(v,{title:"\u914D\u9001\u5546\u54C1"}),u(y,null,{default:m(()=>[e.page_step==0?(i(),a("div",V,[D,I,t("div",R,[(i(!0),a(_,null,f(e.main_tab,(n,k)=>(i(),N(x,{href:n.route_url,class:b(["inline-block px-4 py-1.5",{"border-b-2 border-red-600 text-red-600":n.is_active}])},{default:m(()=>[P(s(n.title),1)]),_:2},1032,["href","class"]))),256))]),t("div",T,[u(g,{search_cond:c.search_cond,route_name:"admin.delivery.completed",total:o.total},null,8,["search_cond","total"]),(i(!0),a(_,null,f(o.products.data,(n,k)=>(i(),a("div",S,[t("button",{onClick:kt=>p.showProductDetail(n),class:"flex border-neutral-200 items-center w-full"},[t("img",{src:n.image,class:"w-24 h-24 inline-block object-contain"},null,8,E),t("div",G,[t("div",q,[t("div",null,s(n.name),1),t("div",null,s(n.rare),1),t("div",J,s(n.point)+"pt",1),t("div",null,s(n.updated_at),1),t("div",null,s(n.address),1),t("div",null,"\u8FFD\u8DE1\u756A\u53F7: "+s(n.status_product),1)]),t("div",K,[u(w,{class:"w-5"})])])],8,z)]))),256))])])):h("",!0),e.page_step==1?(i(),a("div",M,[Q,U,t("div",W,[t("div",X,[t("img",{src:e.product.image,class:"w-12 h-12 inline-block object-contain"},null,8,Y),t("div",Z,[t("div",$,[t("div",null,s(e.product.name),1),t("div",null,s(e.product.rare),1),t("div",tt,s(e.product.point)+"pt",1)])])])]),et,st,t("div",ot,[t("table",nt,[t("tr",null,[lt,t("td",rt,s(e.user.email),1)]),e.profile?(i(),a(_,{key:0},[t("tr",null,[it,t("td",ct,s(e.profile.first_name)+" "+s(e.profile.last_name),1)]),t("tr",null,[at,t("td",dt,s(e.profile.first_name_gana)+" "+s(e.profile.last_name_gana),1)]),t("tr",null,[ut,t("td",_t,s(e.profile.postal_code),1)]),t("tr",null,[pt,t("td",ht,s(e.profile.prefecture),1)]),t("tr",null,[bt,t("td",mt,s(e.profile.address),1)]),t("tr",null,[ft,t("td",vt,s(e.profile.phone),1)])],64)):h("",!0)])]),t("div",xt,[t("button",{type:"button",onClick:r[0]||(r[0]=n=>p.backToList()),class:b([{"opacity-25":c.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:c.form.processing}," \u30EA\u30B9\u30C8\u3078 ",10,gt),t("button",{type:"button",onClick:r[1]||(r[1]=n=>p.submit(e.product.id)),class:b([{"opacity-25":c.form.processing},"inline-block items-center px-8 py-2.5 bg-neutral-600 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-neutral-700 active:bg-neutral-700 focus:outline-none focus:border-neutral-700 focus:shadow-outline-neutral transition ease-in-out duration-150 m-1"]),disabled:c.form.processing}," \u672A\u767A\u9001\u306B\u623B\u3059 ",10,wt)])])):h("",!0)]),_:1})],64)}const Bt=F(O,[["render",yt]]);export{Bt as default};
