import{H as y,G as k,r as h,o,c as l,b as _,w as L,F as b,d as e,I as C,J as p,K as g,t as m,h as d,f as O,e as f,n as U}from"./app.6db07015.js";import{A as V}from"./Admin.c9394756.js";import{_ as j}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.24a0c38e.js";const I={components:{Head:y,AdminLayout:V},props:{errors:Object,auth:Object,category_share:Object,titles:Object,prev_gacha:Number},data(){return{url:null,url1:null,urls:["","","","","","","","","",""]}},methods:{submit(){this.$refs.photo&&(this.form.image=this.$refs.photo.files[0]),this.$refs.photo1&&(this.form.thumbnail=this.$refs.photo1.files[0]),this.form.post(route("admin.gacha.store"),{preserveScroll:!0})},previewImage(i){const t=i.target.files[0];this.url=URL.createObjectURL(t)},previewImage1(i){const t=i.target.files[0];this.url1=URL.createObjectURL(t)},previewVideo(i,t){const s=i.target.files[0];this.urls[t]=URL.createObjectURL(s);var n=this.form.ids.indexOf(t);n==-1?(this.form.ids.push(t),this.form.videos.push(s)):this.form.videos[n]=s}},setup(i){return{form:k({prev_gacha:i.prev_gacha,point:"",count_card:"",lost_product_type:"",thumbnail:"",image:"",category_id:i.category_share.cat_id,ids:[],videos:[]})}}},R={class:"pt-6 md:px-2 px-4"},N=e("h1",{class:"mb-2 text-lg font-bold"},"\u30AC\u30C1\u30E3 \u8FFD\u52A0",-1),A=e("hr",{class:"mb-8"},null,-1),H={class:"mb-4"},B=e("label",{for:"text1",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u6D88\u8CBB\u30DD\u30A4\u30F3\u30C8\uFF08\u30C6\u30AD\u30B9\u30C8\uFF09"),e("span",{class:"text-red-500"},"*")],-1),F={key:0,class:"text-red-500 text-sm mt-1"},S={class:"mb-4"},D=e("label",{for:"text2",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u7DCF\u30AB\u30FC\u30C9\u6570\uFF08\u534A\u89D2\u6570\u5B57\uFF09"),e("span",{class:"text-red-500"},"*")],-1),M={key:0,class:"text-red-500 text-sm mt-1"},T={class:"mb-4"},z=e("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u30B5\u30E0\u30CD\u30A4\u30EB "),e("span",{class:"text-red-500"},"*")],-1),E={class:"text-center w-full"},G=["src"],J={key:0,class:"text-red-500 text-sm mt-1"},K={class:"mb-8"},q=e("label",{for:"file1",class:"block font-medium text-sm text-neutral-700 mb-1"},[f("\u8A73\u7D30\u30DA\u30FC\u30B8\u753B\u50CF "),e("span",{class:"text-red-500"},"*")],-1),P={class:"text-center w-full"},Q=["src"],W={key:0,class:"text-red-500 text-sm mt-1"},X=e("label",{class:"block font-medium text-md text-neutral-700 mb-2"},[f("\u30AC\u30C1\u30E3\u6F14\u51FA\u52D5\u753B\u8A2D\u5B9A "),e("span",{class:"text-red-500"},"*")],-1),Y={class:"flex flex-wrap mb-8"},Z=["src"],$={class:"w-fit p-2 grid grid-cols-1"},ee={class:"mb-4 text-sm"},te=["for"],se=["onChange","id"],re=e("div",{class:"mb-8 text-center"},[e("button",{type:"submit",class:"inline-block items-center px-14 py-2.5 bg-green-500 border border-transparent rounded-md font-semibold text-xs text-white uppercase tracking-widest hover:bg-green-700 active:bg-green-700 focus:outline-none focus:border-green-700 focus:shadow-outline-green transition ease-in-out duration-150"}," \u4FDD\u5B58 ")],-1);function oe(i,t,s,n,a,u){const x=h("Head"),v=h("AdminLayout");return o(),l(b,null,[_(x,{title:"\u30AC\u30C1\u30E3 \u8FFD\u52A0"}),_(v,null,{default:L(()=>[e("div",R,[N,A,e("form",{onSubmit:t[4]||(t[4]=C(r=>u.submit(),["prevent"]))},[e("div",H,[B,p(e("input",{"onUpdate:modelValue":t[0]||(t[0]=r=>n.form.point=r),id:"text1",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[g,n.form.point]]),s.errors.point?(o(),l("div",F,m(s.errors.point),1)):d("",!0)]),e("div",S,[D,p(e("input",{"onUpdate:modelValue":t[1]||(t[1]=r=>n.form.count_card=r),id:"text2",type:"number",class:"w-full border-neutral-300 focus:border-neutral-300 focus:ring focus:ring-neutral-200 focus:ring-opacity-50 rounded-md shadow-sm placeholder-neutral-300",placeholder:"\u5165\u529B\u3057\u3066\u304F\u3060\u3055\u3044"},null,512),[[g,n.form.count_card]]),s.errors.count_card?(o(),l("div",M,m(s.errors.count_card),1)):d("",!0)]),e("div",T,[z,e("div",E,[a.url1?(o(),l("img",{key:0,src:a.url1,class:"inline-block mt-4 h-52"},null,8,G)):d("",!0)]),e("input",{onChange:t[2]||(t[2]=(...r)=>u.previewImage1&&u.previewImage1(...r)),ref:"photo1",id:"file1",type:"file",class:"w-full"},null,544),s.errors.thumbnail?(o(),l("div",J,m(s.errors.thumbnail),1)):d("",!0)]),e("div",K,[q,e("div",P,[a.url?(o(),l("img",{key:0,src:a.url,class:"inline-block mt-4 h-52"},null,8,Q)):d("",!0)]),e("input",{onChange:t[3]||(t[3]=(...r)=>u.previewImage&&u.previewImage(...r)),ref:"photo",id:"file1",type:"file",class:"w-full"},null,544),s.errors.image?(o(),l("div",W,m(s.errors.image),1)):d("",!0)]),X,e("div",Y,[(o(!0),l(b,null,O(s.titles,(r,c)=>(o(),l("div",{class:"mb-4 flex items-center flex-wrap w-full md:w-1/2",key:c},[e("div",{class:U(["text-center md:w-3/5 md:px-0 px-2 w-full",{"border aspect-[16/9]":a.urls[c]==""}])},[a.urls[c]!=""?(o(),l("video",{key:0,class:"inline-block",src:a.urls[c],type:"video/mp4",controls:""},null,8,Z)):d("",!0)],2),e("div",$,[e("span",ee,m(r),1),e("label",{for:"file["+c+"]",class:"cursor-pointer py-1 px-4 w-full rounded-full bg-yellow-500 hover:bg-red-700 hover:text-white text-sm text-center w-fit"},"\u9078\u3076",8,te),e("input",{onChange:w=>u.previewVideo(w,c),id:"file["+c+"]",type:"file",class:"pt-4",accept:"video/mp4",hidden:""},null,40,se)])]))),128))]),re],32)])]),_:1})],64)}const ce=j(I,[["render",oe]]);export{ce as default};
