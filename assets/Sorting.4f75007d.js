import{o as n,c as r,d as e,H as C,L as A,G as L,r as a,b as i,w as _,F as g,I as c,n as I,e as m,f as D,h as d,t as h}from"./app.5f503f83.js";import{A as H}from"./Admin.42ffc5af.js";import{G as M}from"./GachaCard.13615b49.js";import{V as U,r as V,a as B}from"./ArrowLongUpIcon.22201431.js";import{_ as N}from"./_plugin-vue_export-helper.cdc0426e.js";import"./toastify.072889a3.js";import"./GachaButtons.cf84d583.js";import"./PlayIcon.97327e1f.js";function j(o,t){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M11.47 4.72a.75.75 0 011.06 0l3.75 3.75a.75.75 0 01-1.06 1.06L12 6.31 8.78 9.53a.75.75 0 01-1.06-1.06l3.75-3.75zm-3.75 9.75a.75.75 0 011.06 0L12 17.69l3.22-3.22a.75.75 0 111.06 1.06l-3.75 3.75a.75.75 0 01-1.06 0l-3.75-3.75a.75.75 0 010-1.06z","clip-rule":"evenodd"})])}function z(o,t){return n(),r("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true"},[e("path",{d:"M3.478 2.405a.75.75 0 00-.926.94l2.432 7.905H13.5a.75.75 0 010 1.5H4.984l-2.432 7.905a.75.75 0 00.926.94 60.519 60.519 0 0018.445-8.986.75.75 0 000-1.218A60.517 60.517 0 003.478 2.405z"})])}const F={components:{Head:C,AdminLayout:H,Link:A,GachaCard:M,draggable:U,ChevronUpDownIcon:j,ArrowLongUpIcon:V,ArrowLongDownIcon:B,PaperAirplaneIcon:z},props:{errors:Object,auth:Object,gachas:Object,category_share:Object},data(){return{enabled:!0,list:[],dragging:!1}},methods:{log(o){},levelUp(o){let t;for(t=1;t<this.list.length&&this.list[t].id!=o;t++);t<this.list.length&&this.arrayMove(t,t-1)},arrayMove(o,t){this.list.splice(t,0,this.list.splice(o,1)[0])},levelDown(o){let t;for(t=0;t<this.list.length-1&&this.list[t].id!=o;t++);t<this.list.length-1&&this.arrayMove(t,t+1)},submit(){this.form.gachas=this.list,this.form.post(route("admin.gacha.sorting.store"),{preserveScroll:!0,onFinish:()=>{}})}},setup(){return{form:L({gachas:[]})}},mounted(){this.list=this.gachas.data}},O={class:"mt-2"},S={class:"p-1 text-right"},G=["disabled"],P={class:"inline-block align-middle"},$=e("div",{class:"inline-block align-middle"},"\u4FDD\u5B58\u3059\u308B",-1),E={class:"flex mb-1"},T=["src"],q={class:"inline-block text-left align-middle"},J={key:0,class:"bg-green-600 rounded text-xs px-2 mx-1"},K={key:1,class:"bg-neutral-600 rounded text-xs px-2 mx-1"},Q=e("span",{class:"text-white text-sm"},"\u6B8B ",-1),R={class:"text-base"},W={class:"text-white text-xs"},X={key:0,class:"bg-red-600 rounded text-xs px-2 mx-1"},Y=e("span",{class:"text-sm"},"1\u56DE:",-1),Z={class:"align-middle h-full absolute top-0 right-2 flex items-center"},tt=["onClick"],et=["onClick"];function st(o,t,ot,p,u,l){const x=a("Head"),b=a("PaperAirplaneIcon"),v=a("ArrowLongUpIcon"),f=a("ArrowLongDownIcon"),w=a("draggable"),k=a("AdminLayout");return n(),r(g,null,[i(x,{title:"\u30AC\u30C1\u30E3\u4E26\u3073\u66FF\u3048"}),i(k,null,{default:_(()=>[e("div",O,[e("div",S,[e("button",{onClick:t[0]||(t[0]=c(s=>l.submit(),["prevent"])),class:I([{"opacity-25":p.form.processing},"w-32 bg-cyan-600 hover:bg-cyan-700 text-white text-sm font-normal py-2 px-3 inline-block rounded"]),disabled:p.form.processing},[e("div",P,[i(b,{class:"w-5 h-5 mr-1"})]),m(),$],10,G)]),e("div",E,[i(w,{class:"list-group w-full",list:u.list,onChange:l.log},{default:_(()=>[(n(!0),r(g,null,D(u.list,s=>(n(),r("div",{class:"list-group-item bg-neutral-800 m-1 p-1 rounded-md text-left cursor-pointer text-white relative",key:s.name},[e("img",{src:s.thumbnail,class:"w-24 h-24 inline-block align-middle mr-2"},null,8,T),e("div",q,[e("div",null,[s.status==1?(n(),r("span",J,"\u516C\u958B")):d("",!0),s.status==0?(n(),r("span",K,"\u975E\u516C\u958B")):d("",!0)]),e("div",null,[Q,e("span",R,h(s.count_rest),1),e("span",W,"/"+h(s.count_card),1),s.count_rest==0?(n(),r("span",X,"Soldout")):d("",!0)]),e("div",null,[Y,m(),e("span",null,h(s.point)+" pt",1)])]),e("div",Z,[e("button",{onClick:c(y=>l.levelUp(s.id),["prevent"]),class:"bg-neutral-700 rounded p-1 mr-1 hover:bg-neutral-600"},[i(v,{class:"w-6 h-5 text-white block"})],8,tt),e("button",{onClick:c(y=>l.levelDown(s.id),["prevent"]),class:"bg-neutral-700 rounded p-1 mr-1 hover:bg-neutral-600"},[i(f,{class:"w-6 h-5 text-white block"})],8,et)])]))),128))]),_:1},8,["list","onChange"])])])]),_:1})],64)}const pt=N(F,[["render",st]]);export{pt as default};
